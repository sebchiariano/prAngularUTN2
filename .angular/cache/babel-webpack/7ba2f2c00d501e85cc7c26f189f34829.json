{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CompraComponent = class CompraComponent {\n  //CONSTRUCTOR\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  constructor(activatedRoute, productosService) {\n    this.activatedRoute = activatedRoute;\n    this.productosService = productosService;\n    this.loading = true;\n    this.cantidadCompra = 1;\n    this.mensajeStock = \"\";\n  } //FUNCIONES\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const id = this.activatedRoute.snapshot.paramMap.get(\"id\");\n        const productoAux = yield this.productosService.getById(id);\n        this.producto = JSON.parse(JSON.stringify(productoAux));\n        this.loading = false;\n        this.actualizarTotal();\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  }\n\n  actualizarTotal() {\n    this.total = this.producto.price * this.cantidadCompra;\n  }\n\n  incrementarCantidad() {\n    if (this.cantidadCompra < this.producto.available_quantity) {\n      this.cantidadCompra = this.cantidadCompra + 1;\n      this.mensajeStock = \"\";\n    }\n\n    if (this.cantidadCompra == this.producto.available_quantity) {\n      this.mensajeStock = \"No se pueden agregar mas productos. Supera Stock disponible\";\n    }\n\n    this.actualizarTotal();\n  }\n\n  reducirCantidad() {\n    if (this.cantidadCompra > 1) {\n      this.cantidadCompra = this.cantidadCompra - 1;\n      this.mensajeStock = \"\";\n    }\n\n    this.actualizarTotal();\n  }\n\n};\nCompraComponent = __decorate([Component({\n  selector: 'app-compra',\n  templateUrl: './compra.component.html',\n  styleUrls: ['./compra.component.css']\n})], CompraComponent);\nexport { CompraComponent };","map":null,"metadata":{},"sourceType":"module"}